# Sumulige Claude 常见问题

> 帮助你快速理解项目的核心设计理念

---

## Q1: 为什么要把 sumulige-claude 保留在项目中？

### 🔑 一句话答案
**它不是"工具"，是"数字合伙人"**——需要跟随项目一起成长。

### 📊 对比理解

| 普通 CLI 工具 | Sumulige Claude |
|--------------|-----------------|
| 全局安装，到处通用 | 嵌入项目，专属定制 |
| 静态能力，版本固定 | 动态进化，持续学习 |
| 扳手（用完即走） | 副驾驶（全程陪伴） |

### 💡 四大设计深意

```
┌─────────────────────────────────────────────────────────────┐
│  1️⃣ 共同进化                                                │
│     Agent 技能随业务逻辑同步迭代                             │
│     修改算法 → 同步更新 review 技能                          │
├─────────────────────────────────────────────────────────────┤
│  2️⃣ 上下文记忆                                               │
│     .claude/rag/ 是 Agent 的"海马体"                        │
│     项目架构决策 → 长期记忆沉淀                              │
├─────────────────────────────────────────────────────────────┤
│  3️⃣ 团队一致性                                               │
│     工具链即代码 (Toolchain as Code)                        │
│     git clone → pnpm install → 获得一致的 AI 环境            │
├─────────────────────────────────────────────────────────────┤
│  4️⃣ 构建联动                                                │
│     修改共享类型 → 自动触发 Agent 重新构建                   │
│     确保 AI 永不基于过时定义生成代码                         │
└─────────────────────────────────────────────────────────────┘
```

---

## Q2: 根目录 `.claude/` 和 `template/.claude/` 有什么区别？

### 🔑 一句话答案
**`template/` 是"工厂"，根目录 `.claude/` 是"产品"。**

### � 类比理解

```
template/.claude/          xxx/.claude/
     │                          │
     ▼                          ▼
🏭 安装光盘                  💾 存档文件
🎓 毕业证书模板              📝 你的毕业证
🧬 DNA 模板                  🧑 具体的人
📘 类定义 (Class)            📦 实例 (Instance)
```

### 🔍 详细对比

| 特性 | **根目录 `.claude/`** | **template/.claude/** |
|------|----------------------|----------------------|
| **性质** | 实例 (Instance) | 模板 (Blueprint) |
| **状态** | ✅ 有状态 | ❌ 无状态 |
| **内容** | sessions/, 本地配置, 项目 RAG | commands/, skills/, thinking-routes/ |
| **作用** | 记录"聊过什么" | 定义"能做什么" |
| **Git** | 部分忽略 (sessions/) | 完整提交 |
| **生命周期** | 随项目存在 | 发布即固化 |

### 🔄 工作流程

```
┌────────────────┐     smc template     ┌────────────────┐
│                │  ─────────────────▶  │                │
│ template/      │                      │ xxx/           │
│   .claude/     │     复制模板         │   .claude/     │
│   ├─commands/  │  ─────────────────▶  │   ├─commands/  │
│   ├─skills/    │                      │   ├─skills/    │
│   └─...        │                      │   ├─sessions/  │ ← 新增：对话记忆
│                │                      │   ├─rag/       │ ← 新增：项目知识
│                │                      │   └─...        │
└────────────────┘                      └────────────────┘
     工厂                                    产品
```

### 💡 设计优势

| 优势 | 说明 |
|------|------|
| **升级解耦** | 更新 template/ → 发布新版 → 用户项目历史不丢失 |
| **标准化** | 每个新项目自动获得最佳实践配置 |
| **隔离性** | 项目 A 的对话记忆不会污染项目 B |

---

## 总结：一张图看懂架构

```
┌─────────────────────────────────────────────────────────────┐
│                    Sumulige Claude 架构                      │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌──────────────────┐          ┌──────────────────┐        │
│  │  sumulige-claude │          │   你的项目        │        │
│  │  (npm 全局安装)   │          │   (xxx/)         │        │
│  ├──────────────────┤          ├──────────────────┤        │
│  │  cli.js          │──smc───▶│  .claude/         │        │
│  │  template/       │ template │   ├─ commands/   │        │
│  │   └─.claude/     │──────────│   ├─ skills/     │        │
│  │     ├─commands/  │  复制    │   ├─ sessions/   │ 记忆   │
│  │     ├─skills/    │          │   ├─ rag/        │ 知识   │
│  │     └─templates/ │          │   └─ settings    │ 配置   │
│  └──────────────────┘          └──────────────────┘        │
│         能力定义                      运行实例              │
│        (无状态)                      (有状态)              │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

*更多问题？查看 [README.md](./README.md)*